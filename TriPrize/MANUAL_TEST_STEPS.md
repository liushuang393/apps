# 手动测试步骤详细指南

## 重要提示
**您需要亲自执行这些测试步骤并截屏保存。AI无法代替您进行实际的手动测试和截屏。**

## 测试前准备

### 1. 确认服务运行状态
```bash
# 检查Docker服务
docker-compose ps

# 应该看到 postgres 和 redis 正在运行
# API服务应该在 http://localhost:3000 运行
```

### 2. 启动Flutter Web应用
```bash
cd mobile
flutter run -d chrome --web-port=8888
```
等待浏览器自动打开 http://localhost:8888

---

## 测试1: Web浏览器测试 (截屏保存到 web_test/)

### 步骤1: 管理员注册
1. 打开 http://localhost:8888
2. 点击"新規登録"按钮
3. 填写信息:
   - メールアドレス: `admin@triprize.test`
   - パスワード: `Admin123456`
   - 表示名: `管理員`
4. 点击"登録"按钮
5. **截屏保存为**: `web_test/01_admin_register.png`

### 步骤2: 管理员登录
1. 如果注册成功会自动跳转到活动列表
2. 如果需要重新登录,使用上面的账号信息
3. **截屏保存为**: `web_test/02_admin_login.png`

### 步骤3: 创建抽奖活动
1. 在活动列表页面,点击"新規キャンペーン作成"或类似按钮
2. 填写活动信息:
   - キャンペーン名: `テストキャンペーン`
   - 説明: `上線前測試活動`
   - 基礎長さ: `3` (这将创建6个位置)
   - 層価格:
     - 第1層: `1000`
     - 第2層: `2000`
     - 第3層: `3000`
   - 利益率: `10`
3. 添加奖品:
   - 1等奖: 名称=`iPhone 15 Pro`, 数量=`1`
   - 2等奖: 名称=`AirPods Pro`, 数量=`2`
   - 3等奖: 名称=`Apple Gift Card`, 数量=`3`
4. 点击"作成"按钮
5. **截屏保存为**: `web_test/03_create_campaign.png`

### 步骤4: 启动活动
1. 在活动详情页面,点击"開始"或"公開"按钮
2. 确认活动状态变为"進行中"
3. **截屏保存为**: `web_test/04_campaign_active.png`

### 步骤5: 退出管理员账号
1. 点击右上角的用户菜单
2. 选择"ログアウト"
3. **截屏保存为**: `web_test/05_logout.png`

### 步骤6: 注册顾客1
1. 点击"新規登録"
2. 填写信息:
   - メールアドレス: `customer1@triprize.test`
   - パスワード: `Customer123456`
   - 表示名: `顧客1`
3. 点击"登録"
4. **截屏保存为**: `web_test/06_customer1_register.png`

### 步骤7: 顾客1购买
1. 在活动列表中选择刚创建的活动
2. 选择一个层级(例如第1層)
3. 点击"購入"按钮
4. 选择支付方式(クレジットカード)
5. 确认购买
6. **截屏保存为**: `web_test/07_customer1_purchase.png`

### 步骤8: 退出并注册顾客2
1. 退出顾客1账号
2. 注册顾客2:
   - メールアドレス: `customer2@triprize.test`
   - パスワード: `Customer123456`
   - 表示名: `顧客2`
3. **截屏保存为**: `web_test/08_customer2_register.png`

### 步骤9: 顾客2购买
1. 选择活动并购买一个位置
2. **截屏保存为**: `web_test/09_customer2_purchase.png`

### 步骤10: 注册顾客3并购买
1. 重复步骤8-9,注册顾客3
2. **截屏保存为**: `web_test/10_customer3_register.png`
3. 购买位置
4. **截屏保存为**: `web_test/11_customer3_purchase.png`

### 步骤11: 继续购买直到所有位置售完
1. 使用3个顾客账号轮流购买
2. 直到所有6个位置都被购买
3. **截屏保存为**: `web_test/12_all_positions_sold.png`

### 步骤12: 管理员登录并开奖
1. 退出顾客账号
2. 使用管理员账号登录
3. 进入活动详情页面
4. 点击"抽選実行"按钮
5. **截屏保存为**: `web_test/13_draw_lottery.png`

### 步骤13: 查看中奖结果
1. 查看抽奖结果页面
2. 确认所有奖品都已分配
3. **截屏保存为**: `web_test/14_lottery_results.png`

---

## 测试2: iOS手机测试 (截屏保存到 ios_test/)

### 准备工作
```bash
cd mobile
flutter run -d ios
```

### 执行步骤
重复上述Web测试的所有步骤,在iPhone上完成,并将截屏保存到 `ios_test/` 文件夹:
- `ios_test/01_admin_register.png`
- `ios_test/02_admin_login.png`
- ... (同样的命名规则)

### iOS特别注意事项
- 检查界面在不同iPhone尺寸上的显示
- 测试横屏和竖屏模式
- 检查触摸操作是否流畅
- 验证推送通知功能

---

## 测试3: Android手机测试 (截屏保存到 android_test/)

### 准备工作
```bash
cd mobile
flutter run -d android
```

### 执行步骤
重复上述Web测试的所有步骤,在Android手机上完成,并将截屏保存到 `android_test/` 文件夹:
- `android_test/01_admin_register.png`
- `android_test/02_admin_login.png`
- ... (同样的命名规则)

### Android特别注意事项
- 测试不同Android版本的兼容性
- 检查返回键的行为
- 验证权限请求流程
- 测试不同屏幕尺寸的适配

---

## 测试完成检查清单

### Web测试
- [ ] 所有14个步骤的截屏已保存到 web_test/
- [ ] 所有功能正常工作
- [ ] 没有发现bug

### iOS测试
- [ ] 所有14个步骤的截屏已保存到 ios_test/
- [ ] 界面显示正常
- [ ] 操作流畅无卡顿

### Android测试
- [ ] 所有14个步骤的截屏已保存到 android_test/
- [ ] 界面显示正常
- [ ] 操作流畅无卡顿

---

## 发现问题时的处理

如果在测试过程中发现任何问题:
1. 记录问题的详细描述
2. 截屏保存错误界面
3. 记录复现步骤
4. 报告给开发团队

---

## 注意事项

1. **截屏质量**: 确保截屏清晰,能看清所有文字和界面元素
2. **命名规范**: 严格按照指定的文件名保存截屏
3. **完整性**: 不要跳过任何步骤
4. **细节观察**: 注意界面细节、文字显示、布局等
5. **性能**: 注意应用的响应速度和流畅度

