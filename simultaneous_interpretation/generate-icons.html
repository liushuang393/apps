<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoiceTranslate Pro - アイコン生成ツール</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 800px;
            width: 100%;
        }

        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .preview-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .preview-item {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .preview-item canvas {
            border: 2px solid #ddd;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .preview-item label {
            display: block;
            color: #666;
            font-size: 12px;
            font-weight: 600;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .info {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
            font-size: 14px;
            color: #1976d2;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🎨 VoiceTranslate Pro アイコン生成</h1>
        <p class="subtitle">ブラウザ拡張機能用のアイコンを自動生成します</p>

        <!-- デザイン選択 -->
        <div style="margin-bottom: 30px;">
            <h3 style="margin-bottom: 15px; color: #333;">デザインスタイルを選択：</h3>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                <label style="display: flex; align-items: center; padding: 15px; background: #f8f9fa; border-radius: 10px; cursor: pointer; border: 2px solid transparent; transition: all 0.3s;" onmouseover="this.style.borderColor='#667eea'" onmouseout="if(!this.querySelector('input').checked) this.style.borderColor='transparent'">
                    <input type="radio" name="design" value="microphone" checked onchange="updateDesign()" style="margin-right: 10px; width: 20px; height: 20px; cursor: pointer;">
                    <div>
                        <strong style="display: block; color: #333;">🎤 マイクスタイル</strong>
                        <small style="color: #666;">音声入力を強調したデザイン</small>
                    </div>
                </label>

                <label style="display: flex; align-items: center; padding: 15px; background: #f8f9fa; border-radius: 10px; cursor: pointer; border: 2px solid transparent; transition: all 0.3s;" onmouseover="this.style.borderColor='#667eea'" onmouseout="if(!this.querySelector('input').checked) this.style.borderColor='transparent'">
                    <input type="radio" name="design" value="translation" onchange="updateDesign()" style="margin-right: 10px; width: 20px; height: 20px; cursor: pointer;">
                    <div>
                        <strong style="display: block; color: #333;">🌐 翻訳スタイル</strong>
                        <small style="color: #666;">言語変換を強調したデザイン</small>
                    </div>
                </label>

                <label style="display: flex; align-items: center; padding: 15px; background: #f8f9fa; border-radius: 10px; cursor: pointer; border: 2px solid transparent; transition: all 0.3s;" onmouseover="this.style.borderColor='#667eea'" onmouseout="if(!this.querySelector('input').checked) this.style.borderColor='transparent'">
                    <input type="radio" name="design" value="waveform" onchange="updateDesign()" style="margin-right: 10px; width: 20px; height: 20px; cursor: pointer;">
                    <div>
                        <strong style="display: block; color: #333;">📊 波形スタイル</strong>
                        <small style="color: #666;">リアルタイム処理を強調</small>
                    </div>
                </label>

                <label style="display: flex; align-items: center; padding: 15px; background: #f8f9fa; border-radius: 10px; cursor: pointer; border: 2px solid transparent; transition: all 0.3s;" onmouseover="this.style.borderColor='#667eea'" onmouseout="if(!this.querySelector('input').checked) this.style.borderColor='transparent'">
                    <input type="radio" name="design" value="minimal" onchange="updateDesign()" style="margin-right: 10px; width: 20px; height: 20px; cursor: pointer;">
                    <div>
                        <strong style="display: block; color: #333;">✨ ミニマルスタイル</strong>
                        <small style="color: #666;">シンプルで洗練されたデザイン</small>
                    </div>
                </label>
            </div>
        </div>

        <div class="preview-grid">
            <div class="preview-item">
                <canvas id="canvas16" width="16" height="16"></canvas>
                <label>16x16</label>
            </div>
            <div class="preview-item">
                <canvas id="canvas32" width="32" height="32"></canvas>
                <label>32x32</label>
            </div>
            <div class="preview-item">
                <canvas id="canvas48" width="48" height="48"></canvas>
                <label>48x48</label>
            </div>
            <div class="preview-item">
                <canvas id="canvas128" width="128" height="128"></canvas>
                <label>128x128</label>
            </div>
        </div>

        <button class="btn" onclick="downloadAllIcons()">📥 全てのアイコンをダウンロード</button>

        <div class="info">
            <strong>💡 使用方法：</strong><br>
            1. 好みのデザインスタイルを選択<br>
            2. 上記のボタンをクリックして全アイコンをダウンロード<br>
            3. ダウンロードしたファイルを <code>icons/</code> フォルダに配置<br>
            4. ブラウザ拡張機能をリロードして確認
        </div>
    </div>

    <script>
        /**
         * VoiceTranslate Pro アイコン生成スクリプト
         *
         * @description
         * リアルタイム音声翻訳機能を表現する4種類のアイコンデザイン
         * 1. マイクスタイル - 音声入力を強調
         * 2. 翻訳スタイル - 言語変換を強調
         * 3. 波形スタイル - リアルタイム処理を強調
         * 4. ミニマルスタイル - シンプルで洗練
         */

        // アイコンサイズ定義
        const sizes = [16, 32, 48, 128];

        // 現在選択されているデザイン
        let currentDesign = 'microphone';

        /**
         * デザインを更新
         */
        function updateDesign() {
            const selected = document.querySelector('input[name="design"]:checked');
            currentDesign = selected.value;

            // 選択されたラベルのボーダーを更新
            document.querySelectorAll('label').forEach(label => {
                const input = label.querySelector('input[name="design"]');
                if (input && input.checked) {
                    label.style.borderColor = '#667eea';
                    label.style.background = '#e8eaf6';
                } else if (input) {
                    label.style.borderColor = 'transparent';
                    label.style.background = '#f8f9fa';
                }
            });

            generateIcons();
        }

        /**
         * アイコンを描画（デザインに応じて分岐）
         * @param {CanvasRenderingContext2D} ctx - Canvas コンテキスト
         * @param {number} size - アイコンサイズ
         */
        function drawIcon(ctx, size) {
            switch(currentDesign) {
                case 'microphone':
                    drawMicrophoneIcon(ctx, size);
                    break;
                case 'translation':
                    drawTranslationIcon(ctx, size);
                    break;
                case 'waveform':
                    drawWaveformIcon(ctx, size);
                    break;
                case 'minimal':
                    drawMinimalIcon(ctx, size);
                    break;
            }
        }

        /**
         * スタイル1: マイクアイコン
         */
        function drawMicrophoneIcon(ctx, size) {
            // 背景グラデーション
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, '#667eea');
            gradient.addColorStop(1, '#764ba2');
            
            // 背景を描画（角丸）
            ctx.fillStyle = gradient;
            const radius = size * 0.15;
            roundRect(ctx, 0, 0, size, size, radius);
            ctx.fill();

            // マイクアイコンを描画
            ctx.fillStyle = 'white';
            ctx.strokeStyle = 'white';
            ctx.lineWidth = size * 0.08;

            const centerX = size / 2;
            const centerY = size / 2;
            const micWidth = size * 0.25;
            const micHeight = size * 0.35;

            // マイク本体（角丸長方形）
            const micRadius = size * 0.08;
            roundRect(
                ctx,
                centerX - micWidth / 2,
                centerY - micHeight / 2 - size * 0.05,
                micWidth,
                micHeight,
                micRadius
            );
            ctx.fill();

            // マイクスタンド
            ctx.beginPath();
            ctx.moveTo(centerX, centerY + micHeight / 2 - size * 0.05);
            ctx.lineTo(centerX, centerY + micHeight / 2 + size * 0.15);
            ctx.stroke();

            // マイクベース
            ctx.beginPath();
            ctx.moveTo(centerX - size * 0.15, centerY + micHeight / 2 + size * 0.15);
            ctx.lineTo(centerX + size * 0.15, centerY + micHeight / 2 + size * 0.15);
            ctx.stroke();

            // 音波エフェクト（左側）
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.6)';
            ctx.lineWidth = size * 0.05;
            
            for (let i = 1; i <= 2; i++) {
                ctx.beginPath();
                ctx.arc(
                    centerX - micWidth / 2 - size * 0.05 * i,
                    centerY - size * 0.05,
                    size * 0.1 * i,
                    -Math.PI / 4,
                    Math.PI / 4
                );
                ctx.stroke();
            }

            // 音波エフェクト（右側）
            for (let i = 1; i <= 2; i++) {
                ctx.beginPath();
                ctx.arc(
                    centerX + micWidth / 2 + size * 0.05 * i,
                    centerY - size * 0.05,
                    size * 0.1 * i,
                    Math.PI * 3 / 4,
                    Math.PI * 5 / 4
                );
                ctx.stroke();
            }
        }

        /**
         * スタイル2: 翻訳アイコン（言語変換を強調）
         */
        function drawTranslationIcon(ctx, size) {
            // 背景グラデーション
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, '#667eea');
            gradient.addColorStop(1, '#764ba2');

            ctx.fillStyle = gradient;
            const radius = size * 0.15;
            roundRect(ctx, 0, 0, size, size, radius);
            ctx.fill();

            ctx.fillStyle = 'white';
            ctx.font = `bold ${size * 0.4}px Arial`;
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';

            const centerX = size / 2;
            const centerY = size / 2;

            // 左側の "A"
            ctx.fillText('A', centerX - size * 0.2, centerY);

            // 右側の "あ"
            ctx.font = `bold ${size * 0.35}px Arial`;
            ctx.fillText('あ', centerX + size * 0.2, centerY);

            // 中央の矢印
            ctx.strokeStyle = 'white';
            ctx.lineWidth = size * 0.08;
            ctx.lineCap = 'round';

            // 矢印の線
            ctx.beginPath();
            ctx.moveTo(centerX - size * 0.05, centerY - size * 0.15);
            ctx.lineTo(centerX + size * 0.05, centerY - size * 0.15);
            ctx.stroke();

            // 矢印の先端
            ctx.beginPath();
            ctx.moveTo(centerX + size * 0.05, centerY - size * 0.15);
            ctx.lineTo(centerX, centerY - size * 0.2);
            ctx.lineTo(centerX, centerY - size * 0.1);
            ctx.closePath();
            ctx.fill();

            // 下向き矢印
            ctx.beginPath();
            ctx.moveTo(centerX - size * 0.05, centerY + size * 0.15);
            ctx.lineTo(centerX + size * 0.05, centerY + size * 0.15);
            ctx.stroke();

            ctx.beginPath();
            ctx.moveTo(centerX - size * 0.05, centerY + size * 0.15);
            ctx.lineTo(centerX, centerY + size * 0.1);
            ctx.lineTo(centerX, centerY + size * 0.2);
            ctx.closePath();
            ctx.fill();
        }

        /**
         * スタイル3: 波形アイコン（リアルタイム処理を強調）
         */
        function drawWaveformIcon(ctx, size) {
            // 背景グラデーション
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, '#667eea');
            gradient.addColorStop(1, '#764ba2');

            ctx.fillStyle = gradient;
            const radius = size * 0.15;
            roundRect(ctx, 0, 0, size, size, radius);
            ctx.fill();

            // 波形を描画
            ctx.strokeStyle = 'white';
            ctx.lineWidth = size * 0.08;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';

            const centerY = size / 2;
            const barCount = 7;
            const barWidth = size * 0.08;
            const spacing = (size * 0.8) / barCount;
            const startX = size * 0.1;

            // 各バーの高さ（波形パターン）
            const heights = [0.3, 0.6, 0.9, 0.5, 0.8, 0.4, 0.7];

            for (let i = 0; i < barCount; i++) {
                const x = startX + i * spacing;
                const barHeight = size * heights[i];

                ctx.fillStyle = 'white';
                roundRect(
                    ctx,
                    x,
                    centerY - barHeight / 2,
                    barWidth,
                    barHeight,
                    barWidth / 2
                );
                ctx.fill();
            }
        }

        /**
         * スタイル4: ミニマルアイコン（シンプルで洗練）
         */
        function drawMinimalIcon(ctx, size) {
            // 背景グラデーション
            const gradient = ctx.createLinearGradient(0, 0, size, size);
            gradient.addColorStop(0, '#667eea');
            gradient.addColorStop(1, '#764ba2');

            ctx.fillStyle = gradient;
            const radius = size * 0.15;
            roundRect(ctx, 0, 0, size, size, radius);
            ctx.fill();

            const centerX = size / 2;
            const centerY = size / 2;

            // 外側の円
            ctx.strokeStyle = 'white';
            ctx.lineWidth = size * 0.08;
            ctx.beginPath();
            ctx.arc(centerX, centerY, size * 0.3, 0, Math.PI * 2);
            ctx.stroke();

            // 内側の円（塗りつぶし）
            ctx.fillStyle = 'white';
            ctx.beginPath();
            ctx.arc(centerX, centerY, size * 0.15, 0, Math.PI * 2);
            ctx.fill();

            // 4つの小さな点（四隅）
            const dotRadius = size * 0.05;
            const dotDistance = size * 0.35;

            const positions = [
                [centerX - dotDistance, centerY - dotDistance],
                [centerX + dotDistance, centerY - dotDistance],
                [centerX - dotDistance, centerY + dotDistance],
                [centerX + dotDistance, centerY + dotDistance]
            ];

            positions.forEach(([x, y]) => {
                ctx.beginPath();
                ctx.arc(x, y, dotRadius, 0, Math.PI * 2);
                ctx.fill();
            });
        }

        /**
         * 角丸長方形を描画
         */
        function roundRect(ctx, x, y, width, height, radius) {
            ctx.beginPath();
            ctx.moveTo(x + radius, y);
            ctx.lineTo(x + width - radius, y);
            ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
            ctx.lineTo(x + width, y + height - radius);
            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
            ctx.lineTo(x + radius, y + height);
            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
            ctx.lineTo(x, y + radius);
            ctx.quadraticCurveTo(x, y, x + radius, y);
            ctx.closePath();
        }

        /**
         * 全アイコンを生成
         */
        function generateIcons() {
            sizes.forEach(size => {
                const canvas = document.getElementById(`canvas${size}`);
                const ctx = canvas.getContext('2d');
                
                // アンチエイリアシングを有効化
                ctx.imageSmoothingEnabled = true;
                ctx.imageSmoothingQuality = 'high';
                
                drawIcon(ctx, size);
            });
        }

        /**
         * 全アイコンをダウンロード
         */
        function downloadAllIcons() {
            sizes.forEach((size, index) => {
                setTimeout(() => {
                    const canvas = document.getElementById(`canvas${size}`);
                    const link = document.createElement('a');
                    link.download = `icon${size}.png`;
                    link.href = canvas.toDataURL('image/png');
                    link.click();
                }, index * 200); // 順次ダウンロード
            });
        }

        // ページ読み込み時にアイコンを生成
        window.addEventListener('load', generateIcons);
    </script>
</body>
</html>

