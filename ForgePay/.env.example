# Application
NODE_ENV=development
PORT=3000
API_BASE_URL=http://localhost:3000

# CORS（本番環境のみ有効。カンマ区切りで複数指定可）
# 例: ALLOWED_ORIGINS=https://app1.example.com,https://app2.example.com
ALLOWED_ORIGINS=

# Mode (test or live)
STRIPE_MODE=test

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/forgepaybridge
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# Redis
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# Stripe (Test Mode)
STRIPE_TEST_SECRET_KEY=sk_test_...
STRIPE_TEST_PUBLISHABLE_KEY=pk_test_...
STRIPE_TEST_WEBHOOK_SECRET=whsec_...

# Stripe (Live Mode)
STRIPE_LIVE_SECRET_KEY=sk_live_...
STRIPE_LIVE_PUBLISHABLE_KEY=pk_live_...
STRIPE_LIVE_WEBHOOK_SECRET=whsec_...

# JWT
JWT_SECRET=your-secret-key-change-this-in-production
JWT_EXPIRES_IN=5m

# 暗号化キー（Stripe Secret Key の AES-256-GCM 暗号化用）
# JWT_SECRET と必ず別の値を設定すること
ENCRYPTION_KEY=your-encryption-key-change-this-in-production

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Email (Optional - for notifications)
EMAIL_PROVIDER=sendgrid
EMAIL_API_KEY=
EMAIL_FROM=noreply@forgepaybridge.com

# ============================================================
# Payment Mode（方案切り替え）
# ============================================================
# checkout       — 方案1: Stripe Checkout（ホスト型）
# elements       — 方案2: Stripe Elements（カスタム UI）
# payment-intent — 方案3: PaymentIntent API（サブスクリプション）
PAYMENT_MODE=checkout
