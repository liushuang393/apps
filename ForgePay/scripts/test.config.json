{
  "project": {
    "name": "ForgePay",
    "description": "Stripe決済プラットフォーム"
  },

  "requirements": {
    "nodeVersion": 18,
    "dockerRequired": true
  },

  "ports": {
    "backend": 3000,
    "dashboard": 3001
  },

  "endpoints": {
    "health": "/health",
    "backendBase": "http://localhost:3000",
    "dashboardBase": "http://localhost:3001"
  },

  "docker": {
    "postgres": {
      "containerName": "forgepaybridge-postgres",
      "user": "postgres",
      "readyCommand": "pg_isready -U postgres"
    },
    "redis": {
      "containerName": "forgepaybridge-redis",
      "readyCommand": "redis-cli ping",
      "expectedResponse": "PONG"
    },
    "composeServices": "postgres redis"
  },

  "paths": {
    "nodeModules": "node_modules",
    "dashboardModules": "dashboard/node_modules",
    "playwrightBrowsers": "$env:LOCALAPPDATA\\ms-playwright",
    "coverageReport": "coverage/lcov-report/index.html"
  },

  "environment": {
    "envFile": ".env",
    "envExample": ".env.example",
    "requiredPatterns": {
      "stripeTestKey": "STRIPE_TEST_SECRET_KEY=sk_test_",
      "testApiKey": "TEST_API_KEY=fpb_test_",
      "databaseUrl": "DATABASE_URL=postgresql://",
      "redisUrl": "REDIS_URL=redis://"
    }
  },

  "scripts": {
    "install": "npm install",
    "installDashboard": "cd dashboard; npm install",
    "migrate": "npm run migrate:up",
    "dev": "npm run dev",
    "devDashboard": "cd dashboard; npm run dev",
    "dockerUp": "docker-compose up -d postgres redis",
    "dockerDown": "docker-compose down",
    "testUnit": "npm run test:coverage",
    "testE2eApi": "npm run test:e2e:api",
    "testPlaywright": "npx playwright test --max-failures=1",
    "playwrightInstall": "npx playwright install chromium",
    "setupTestDeveloper": "node scripts/setup-test-developer.js"
  },

  "coverage": {
    "thresholds": {
      "statements": 95,
      "branches": 95,
      "functions": 95,
      "lines": 95
    }
  },

  "timeouts": {
    "dockerStartup": 30,
    "serverStartup": 30,
    "healthCheck": 2
  },

  "messages": {
    "ja": {
      "title": "テストスイート",
      "envCheck": "環境をチェック中...",
      "nodeNotFound": "Node.js が見つかりません",
      "nodeOld": "Node.js が古いです",
      "dockerNotFound": "Docker が見つかりません",
      "dockerNotRunning": "Docker が起動していません",
      "installPackages": "npm パッケージをインストール中...",
      "startingDocker": "Docker サービスを起動中...",
      "waitingPostgres": "PostgreSQL の起動を待機中...",
      "postgresReady": "PostgreSQL: 起動完了",
      "redisReady": "Redis: 起動完了",
      "runningMigration": "データベースマイグレーション実行中...",
      "unitTestTitle": "単体テスト & カバレッジ",
      "e2eTestTitle": "E2E API テスト",
      "playwrightTitle": "Playwright UI テスト",
      "allPassed": "全て合格",
      "someFailed": "失敗",
      "testComplete": "テスト完了"
    },
    "en": {
      "title": "Test Suite",
      "envCheck": "Checking environment...",
      "nodeNotFound": "Node.js not found",
      "nodeOld": "Node.js version is too old",
      "dockerNotFound": "Docker not found",
      "dockerNotRunning": "Docker is not running",
      "installPackages": "Installing npm packages...",
      "startingDocker": "Starting Docker services...",
      "waitingPostgres": "Waiting for PostgreSQL...",
      "postgresReady": "PostgreSQL: Ready",
      "redisReady": "Redis: Ready",
      "runningMigration": "Running database migrations...",
      "unitTestTitle": "Unit Tests & Coverage",
      "e2eTestTitle": "E2E API Tests",
      "playwrightTitle": "Playwright UI Tests",
      "allPassed": "All passed",
      "someFailed": "Failed",
      "testComplete": "Test Complete"
    }
  }
}
